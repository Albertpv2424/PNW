<div class="register-container">
  <div class="register-card">
    <!-- A침adir top-right-language si no existe -->
    <div class="top-right-language">
      <app-language-slider></app-language-slider>
    </div>

    <!-- Actualizar el logo para que sea clickable y tenga m치rgenes -->
    <img src="../../../assets/logo.jpg" alt="Logo" class="logo logo-clickable"
         (click)="navigateToHome()"
         (error)="handleImageError($event)">

    <h1>{{ 'AUTH.WELCOME' | translate }}</h1>

    <!-- Resto del formulario se mantiene igual -->
    <form class="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <div class="input-container">
        <input type="text" formControlName="nick" placeholder="{{ 'AUTH.USERNAME' | translate }}">
        <label>{{ 'AUTH.USERNAME' | translate }}</label>
      </div>

      <div class="input-container">
        <input type="email" formControlName="email" placeholder="{{ 'AUTH.EMAIL' | translate }}">
        <label>{{ 'AUTH.EMAIL' | translate }}</label>
      </div>

      <div class="input-container">
        <input [type]="showPassword ? 'text' : 'password'" formControlName="pswd" placeholder="{{ 'AUTH.PASSWORD' | translate }}">
        <label>{{ 'AUTH.PASSWORD' | translate }}</label>
        <span class="eye-icon" (click)="togglePassword()"></span>
      </div>

      <div class="input-container">
        <input type="text" formControlName="dni" placeholder="{{ 'AUTH.DNI' | translate }}">
        <label>{{ 'AUTH.DNI' | translate }}</label>
      </div>

      <div class="input-container">
        <input type="tel" formControlName="telefon" placeholder="{{ 'AUTH.PHONE' | translate }}">
        <label>{{ 'AUTH.PHONE' | translate }}</label>
      </div>

      <div class="input-container">
        <input type="date" formControlName="data_naixement" placeholder="{{ 'AUTH.BIRTH_DATE' | translate }}">
        <label>{{ 'AUTH.BIRTH_DATE' | translate }}</label>

        <!-- Add error message for underage users -->
        <div class="error-message" *ngIf="registerForm.get('data_naixement')?.touched && registerForm.get('data_naixement')?.hasError('underage')">
          {{ 'AUTH.AGE_RESTRICTION' | translate }}
        </div>
      </div>

      <!-- Modificar la secci칩 d'imatge de perfil per incloure opci칩 de URL -->
      <div class="profile-image-container">
        <label class="profile-image-label">{{ 'AUTH.PROFILE_IMAGE' | translate }}</label>
        <div class="profile-preview" *ngIf="imagePreview">
          <img [src]="imagePreview" alt="{{ 'AUTH.PREVIEW' | translate }}" class="preview-image">
        </div>

        <!-- Afegir opci칩 de URL d'imatge -->
        <div class="input-container">
          <input type="text" formControlName="profileImageUrl"
                 placeholder="{{ 'AUTH.ENTER_IMAGE_URL' | translate }}"
                 (input)="onImageUrlInput()">
          <div class="url-input-icon">游댕</div>
        </div>
      </div>

      <div class="checkbox-container">
        <input type="checkbox" id="terms" formControlName="terms">
        <label for="terms">{{ 'AUTH.TERMS_AGREEMENT' | translate }}</label>
      </div>

      <button type="submit" class="submit-button">{{ 'AUTH.CREATE_ACCOUNT' | translate }}</button>

      <!-- Update login link section to match login component style -->
      <div class="register-link">
        <span>{{ 'AUTH.ALREADY_ACCOUNT' | translate }}</span>
        <a routerLink="/login">{{ 'AUTH.LOGIN' | translate }}</a>
      </div>
    </form>
  </div>
</div>