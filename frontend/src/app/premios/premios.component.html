<div class="background-container"></div>

<div class="main-layout">
  <header class="header">
    <app-header></app-header>
  </header>

  <div class="content-container">
    <main class="main-content">
      <div class="premios-container">
        <div class="premios-header">
          <h2>Premios Disponibles</h2>
          <div class="filtros">
            <button class="filtro-button" (click)="ordenarPorPuntos()">
              @if (ordenAscendente) {
                Ordenar: Menos a más puntos
              } @else {
                Ordenar: Más a menos puntos
              }
            </button>
          </div>
        </div>
        
        @if (isLoading) {
          <div class="loading-spinner">Cargando premios...</div>
        } @else if (errorMessage) {
          <div class="error-message">{{ errorMessage }}</div>
        } @else if (premiosFiltrados.length === 0) {
          <div class="empty-message">No hay premios disponibles en este momento.</div>
        } @else {
          <div class="premios-grid">
            @for (premio of premiosFiltrados; track premio.id) {
              <div class="premio-card">
                <div class="premio-image">
                  <img [src]="premio.image" [alt]="premio.name">
                </div>
                <div class="premio-info">
                  <h3>{{ premio.name }}</h3>
                  <p *ngIf="premio.description" class="description">{{ premio.description }}</p>
                  <p class="points">{{ premio.points }} <img src="assets/monedapnw.png" alt="Moneda PNW" class="coin-icon"></p>
                  <button class="canjear-button" (click)="onCanjear(premio.id)">{{ premio.buttonText }}</button>
                </div>
              </div>
            }
          </div>
        }
      </div>
    </main>
  </div>
</div>

<app-combined-bet></app-combined-bet>