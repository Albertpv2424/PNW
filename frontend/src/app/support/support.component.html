<div class="page-container">
  <div class="content-card">
    <h1>{{ 'SUPPORT.TITLE' | translate }}</h1>

    <div class="support-intro">
      <p>
        {{ 'SUPPORT.INTRO_TEXT' | translate }}
      </p>
    </div>

    <div class="support-options-grid">
      <div class="support-option">
        <div class="option-icon">üìã</div>
        <div class="option-content">
          <h2>{{ 'SUPPORT.FAQ_TITLE' | translate }}</h2>
          <p>
            {{ 'SUPPORT.FAQ_TEXT' | translate }}
            <a routerLink="/faq">{{ 'SUPPORT.FAQ_LINK' | translate }}</a>.
          </p>
        </div>
      </div>

      <div class="support-option">
        <div class="option-icon">‚úâÔ∏è</div>
        <div class="option-content">
          <h2>{{ 'SUPPORT.EMAIL_TITLE' | translate }}</h2>
          <p>
            {{ 'SUPPORT.EMAIL_TEXT' | translate }} <strong>{{ 'SUPPORT.EMAIL_ADDRESS' | translate }}</strong> {{ 'SUPPORT.EMAIL_RESPONSE_TIME' | translate }}
          </p>
        </div>
      </div>

      <div class="support-option">
        <div class="option-icon">üìû</div>
        <div class="option-content">
          <h2>{{ 'SUPPORT.PHONE_TITLE' | translate }}</h2>
          <p>
            {{ 'SUPPORT.PHONE_TEXT' | translate }} <strong>{{ 'SUPPORT.PHONE_NUMBER' | translate }}</strong> {{ 'SUPPORT.PHONE_HOURS' | translate }}
          </p>
        </div>
      </div>

      <div class="support-option chat-option">
        <div class="option-icon">üí¨</div>
        <div class="option-content">
          <h2>{{ 'SUPPORT.LIVE_CHAT_TITLE' | translate }}</h2>
          <p>
            {{ 'SUPPORT.LIVE_CHAT_TEXT' | translate }}
          </p>
          <button class="chat-button" (click)="openChat()">
            <i class="fas fa-comments"></i> {{ 'SUPPORT.OPEN_CHAT_BUTTON' | translate }}
          </button>
        </div>
      </div>
    </div>

    <h2 class="contact-form-title">{{ 'SUPPORT.CONTACT_FORM_TITLE' | translate }}</h2>
    <p class="contact-form-text">
      {{ 'SUPPORT.CONTACT_FORM_TEXT' | translate }}
    </p>

    <form [formGroup]="supportForm" (ngSubmit)="onSubmit()" class="contact-form">
      <div class="form-field">
        <label for="name">{{ 'SUPPORT.NAME_LABEL' | translate }}</label>
        <input type="text" id="name" formControlName="name" [attr.placeholder]="'SUPPORT.NAME_PLACEHOLDER' | translate">
        <div class="error-message" *ngIf="nameControl?.invalid && nameControl?.touched">
          {{ 'ERRORS.REQUIRED' | translate }}
        </div>
      </div>

      <div class="form-field">
        <label for="email">{{ 'SUPPORT.EMAIL_LABEL' | translate }}</label>
        <input type="email" id="email" formControlName="email" [attr.placeholder]="'SUPPORT.EMAIL_PLACEHOLDER' | translate">
        <div class="error-message" *ngIf="emailControl?.invalid && emailControl?.touched">
          <span *ngIf="emailControl?.errors?.['required']">{{ 'ERRORS.REQUIRED' | translate }}</span>
          <span *ngIf="emailControl?.errors?.['email']">{{ 'ERRORS.EMAIL_INVALID' | translate }}</span>
        </div>
      </div>

      <div class="form-field">
        <label for="issue-type">{{ 'SUPPORT.ISSUE_TYPE_LABEL' | translate }}</label>
        <input type="text" id="issue-type" formControlName="issueType" [attr.placeholder]="'SUPPORT.ISSUE_TYPE_PLACEHOLDER' | translate">
        <div class="error-message" *ngIf="issueTypeControl?.invalid && issueTypeControl?.touched">
          {{ 'ERRORS.REQUIRED' | translate }}
        </div>
      </div>

      <div class="form-field">
        <label for="message">{{ 'SUPPORT.MESSAGE_LABEL' | translate }}</label>
        <textarea id="message" formControlName="message" rows="5" [attr.placeholder]="'SUPPORT.MESSAGE_PLACEHOLDER' | translate"></textarea>
        <div class="error-message" *ngIf="messageControl?.invalid && messageControl?.touched">
          <span *ngIf="messageControl?.errors?.['required']">{{ 'ERRORS.REQUIRED' | translate }}</span>
          <span *ngIf="messageControl?.errors?.['minlength']">{{ 'SUPPORT.MESSAGE_MIN_LENGTH' | translate }}</span>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="submit-button" [disabled]="isSubmitting">
          {{ 'SUPPORT.SEND_BUTTON' | translate }}
        </button>
      </div>

      <div class="form-feedback">
        <div class="success-message" *ngIf="submitSuccess">
          {{ 'SUPPORT.SUBMIT_SUCCESS' | translate }}
        </div>
        <div class="error-message" *ngIf="submitError">
          {{ submitError }}
        </div>
      </div>
    </form>
  </div>
</div>